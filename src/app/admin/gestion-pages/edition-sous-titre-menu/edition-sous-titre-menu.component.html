<div class="wrapper">
  <app-admin-sidebar></app-admin-sidebar>
  <!-- Page Content -->
  <div id="content">
    <div class="container-fluid">
    <div class="col-sm-4">
        <h1>Sous Titre</h1>
    </div>
    <div class="col-sm-8">
      <div *ngIf="editForm.dirty" class="alert alert-info">
        <strong>Information:</strong> Vous avez fait des changements. Tous changements non validés seront perdus !
      </div>
    </div>
    <form #editForm="ngForm" (ngSubmit)="submitForm()" (change)="setDirtyFlag()">
      <div class="form-group">
        <label for="titreMenuId">Sélection d'un titre de menu</label>
        <select 
          class="form-control custom-select"
          id="sectionId" 
          [(ngModel)]="model.titreMenuId"
          name="sectionId"
        >
          <optgroup *ngFor="let itemSection of sections; let j = index" [label]="itemSection.nom">
            <ng-container *ngFor="let item of titreMenu; let i = index">
              <option 
                *ngIf="item.sectionId === itemSection.id || (item.sectionId === null &&  itemSection.id === 0)"
                [value]="item.id"
              >{{ item.nom }}
              </option>
            </ng-container>
          </optgroup>
        </select>  
      </div>    
      <div class="form-group">
        <label for="nom">Nom du sous titre de menu</label>
        <input type="nom" class="form-control" id="titre" aria-describedby="titreHelp" placeholder="Veuillez saisir un sous titre de menu (ce nom doit être unique dans la section)" [(ngModel)]="model.nom" name="nom">
        <small 
          id="iconeHelp" 
          class="help text-danger" 
          *ngIf="this.formError.has('Nom')"
        >{{ this.formError.get('Nom') }}</small>
      </div>
      <button 
        type="submit" 
        class="btn btn-primary"
      >Éditer sous titre du menu</button>
    </form>
  </div>
</div>